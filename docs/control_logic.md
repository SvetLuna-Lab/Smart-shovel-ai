# Логика управления и режимы работы Smart Shovel

## 1. Общий подход

Логика управления строится вокруг двух идей:

1. **Человек – источник решения.**  
   Он выбирает режим работы и задаёт рабочую зону.

2. **Система – исполнитель с контролем безопасности.**  
   Она:
   - интерпретирует сигналы датчиков;
   - управляет приводом;
   - останавливает работу при нарушении условий безопасности.

## 2. Режимы работы

### 2.1. Режим Manual (ручной)

Назначение:

- максимально похож на обычную лопату;
- привод может слегка компенсировать вес и демпфировать рывки.

Логика:

- привод либо выключен,
- либо работает в режиме низкой мощности и не запускается сам.

### 2.2. Режим Assist (ассистирующий)

Назначение:

- помочь оператору при реальном копании;
- снизить нагрузку на спину и руки.

Логика:

1. Система считывает усилие на рукояти.
2. Если усилие выше порога (оператор реально «тянет» лопату) и зона безопасна:
   - привод включается и добавляет часть силы.
3. Если усилие ниже порога или зона небезопасна:
   - привод останавливается.

Псевдокод:

```python
if mode == "ASSIST":
    if not is_safe_zone():
        motor.stop()
    elif human_force() > FORCE_THRESHOLD:
        motor.assist(force=human_force())
    else:
        motor.stop()
